<% include ../partials/header %>

<div class='container' style='width: 50%;'>
    <h3>Edit Profile</h3>
    <form id='editProfileForm' method='POST' action='/users/<%= user._id %>'>
        <div class='form-group row'>
            <label for='username' class='col-sm-2'>Username</label>
            <div class='col-sm-10'>
                <input type='text' class='form-control' id='username' name='username' required value='<%= user.username %>' placeholder='Username'>
            </div>
        </div>
        <div class='form-group row'>
            <label for='email' class='col-sm-2'>Email</label>
            <div class='col-sm-10'>
                <input type='email' class='form-control' id='email' name='email' required value='<%= user.email %>' placeholder='Email'>
            </div>
        </div>
        <div class='form-group row'>
            <label for='password' class='col-sm-2'>Password</label>
            <div class='col-sm-10'>
                <input type='password' class='form-control' id='password' name='password' required value='<%= user.password %>' placeholder='Password'>
            </div>
        </div>
        <div class='form-group row'>
            <label for='confirm' class='col-sm-2'>Confirm Password</label>
            <div class='col-sm-10'>
                <input type='password' class='form-control' id='confirm' required value='<%= user.password %>' placeholder='Confirm Password'>
            </div>
        </div>
        <button class='btn btn-lg btn-success'>Submit Edits</button>
    </form>
</div>

<script>
    let editProfileForm = document.getElementById('editProfileForm');

editProfileForm.addEventListener('submit', function(event) {
  event.preventDefault();
  
  if(checkForm(editProfileForm)) {
    editProfileForm.submit();
  }
})
</script>

<% include ../partials/footer %>